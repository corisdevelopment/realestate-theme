---
import Layout from '../layouts/Layout.astro';
import { useStoryblokApi } from '@storyblok/astro'
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";

import { getEntry } from 'astro:content';
const entry = await getEntry('pages','about');
const { Content } = await entry.render();
// console.log(entry)
//////////////////
// Storyblok Content
const storyblokApi = useStoryblokApi()
const { data } = await storyblokApi.get('cdn/stories/about-us', {
	version: import.meta.env.DEV ? "draft" : "published",
	resolve_links: 'url'
})
const content = data.story.content;
const pTitle = data.story.name;
console.log(data.story)
---
<Layout title={entry.data.title + ' | Coris Development Group'}>
  {
    content.body?.map((blok: any) => {
      return <StoryblokComponent blok={blok} />
    })
  }
  <article class="prose dark:prose-invert mx-auto px-4 py-8">
    
    <Content />
  </article>
  
</Layout>